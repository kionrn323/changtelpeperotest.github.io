<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI Test</title>
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>

<body>

<div class="start-section">
    <input type="text" id="userName" placeholder="이름을 입력하세요.">
    <select id="userGender">
        <option value="male">남자</option>
        <option value="female">여자</option>
    </select>
    <button onclick="startTest()">시작</button>
</div>

<div class="question-section hidden">
    <p id="question">질문이 여기에 표시됩니다.</p>
    <button onclick="handleAnswer(5)">매우 그렇다</button>
    <button onclick="handleAnswer(4)">그렇다</button>
    <button onclick="handleAnswer(3)">보통이다</button>
    <button onclick="handleAnswer(2)">아니다</button>
    <button onclick="handleAnswer(1)">매우 아니다</button>
</div>

<script>
const answerScores = { 
  "매우 그렇다": 5,
  "그렇다": 4,
  "보통이다": 3,
  "아니다": 2,
  "매우 아니다": 1
};

const mbtiQuestions = {
  E: [
    "조용하고 한적한 장소보다 시끌벅적 핫한 장소에서의 데이트를 선호한다.",
    "개인의 시간보다 연인과 함께하는 시간 더 소중하다.",
  ],
  I: [
    "연인의 친구를 소개받는 자리가 조금 불편하다.",
    "연인에게 적극적으로 마음을 표현하기보다는 은은하게 뒤에서 챙겨준다.",
  ],

  T: [
    "연인과의 다툼 중 의견이 다를 때 상대가 인정할 만한 근거를 제시하며 설득한다. ",
    "연애 초반에 마음과는 달리 감정 표현이 서툰 편이다.",
  ],
  F: [
    "연인이 조별 과제로 힘들어할 때 원인 분석보다 위로를 우선시한다.",
    "기념일 선물로 상대에게 필요한 실용적인 선물보다는 정성이 들어간 이벤트를 선호한다.",
  ],

  J: [
    "연인과 여행을 갈 때, 출발부터 돌아오는 날까지 모든 일정을 계획한다.",
    "내일이 시험인데 보고 싶어서 집 앞으로 왔다는 애인이 불편하다.",
  ],

  P: [
    "자유롭고 즉흥적인 데이트를 선호한다.",
    "잔잔한 연애보다는 다이나믹한 연애를 선호한다.",
  ],
};

let scores = { E: 0, I: 0, T: 0, F: 0, J: 0, P: 0 };
let currentCategoryIndex = 0;
let currentQuestionIndex = 0;

function displayQuestion() {
    const currentCategory = Object.keys(mbtiQuestions)[currentCategoryIndex];
    if (currentCategory && currentQuestionIndex < mbtiQuestions[currentCategory].length) {
        document.getElementById('question').innerText = mbtiQuestions[currentCategory][currentQuestionIndex];
    } else {
        document.querySelector('.question-section').style.display = "none";
        alert(`안녕하세요 ${document.getElementById('userName').value}님, 당신의 MBTI 결과는 ${calculatePersonality(scores)} 입니다.`);
    }
}

function handleAnswer(score) {
    const currentCategory = Object.keys(mbtiQuestions)[currentCategoryIndex];
    scores[currentCategory] += score;
    currentQuestionIndex++;
    displayQuestion();
}

function calculatePersonality(scores) {
    // 주어진 MBTI 계산 코드...
}

function startTest() {
    const name = document.getElementById('userName').value;
    const gender = document.getElementById('userGender').value;

    if (!name || !gender) {
        alert('이름과 성별을 모두 입력해주세요.');
        return;
    }

    document.querySelector('.start-section').style.display = "none";
    document.querySelector('.question-section').style.display = "block";
    displayQuestion();
}

</script>

</body>
</html>
